(this["webpackJsonprouter-practice"]=this["webpackJsonprouter-practice"]||[]).push([[0],{15:function(e,t,a){e.exports={header:"Navbar_header__3MDti",title:"Navbar_title__8K2jU",navigation:"Navbar_navigation__1Qfj7",navButton:"Navbar_navButton__g7b-f",checkoutButton:"Navbar_checkoutButton__3_oad",checkoutSection:"Navbar_checkoutSection__3s_xu",itemsCounter:"Navbar_itemsCounter__2w0LZ",user:"Navbar_user__1ZrGf",displayName:"Navbar_displayName__3a1hm",userPhoto:"Navbar_userPhoto__SjvN7",signOut:"Navbar_signOut__2YNSW"}},21:function(e,t,a){e.exports={details:"Details_details__yyPT1",prodImg:"Details_prodImg__uqObu",prodInfo:"Details_prodInfo__1Reib",prodDescr:"Details_prodDescr__R3Y14",backToShop:"Details_backToShop__8Hfqu",buyButton:"Details_buyButton__3y2XC"}},22:function(e,t,a){e.exports={cartDisplay:"Cart_cartDisplay__1xr-j",cartItem:"Cart_cartItem__gv1g7",cartTitle:"Cart_cartTitle__CkH0B",cartPrice:"Cart_cartPrice__1r0ko",cartAmount:"Cart_cartAmount__3TjdK",totalPrice:"Cart_totalPrice__284-K",payButton:"Cart_payButton__26SzW"}},37:function(e,t,a){e.exports={Home:"Home_Home__1aUBM",h1:"Home_h1__1QQ5F",p:"Home_p__10w9b"}},43:function(e,t,a){e.exports={categoriesNav:"CategoriesNav_categoriesNav__3kBJK",catButton:"CategoriesNav_catButton__3iTTI"}},46:function(e,t,a){e.exports={shop:"Shop_shop__3N9Go"}},47:function(e,t,a){e.exports={App:"Body_App__H-myo",AppContainer:"Body_AppContainer__1rlSU"}},64:function(e,t,a){"use strict";a.r(t);var c=a(3),n=a.n(c),s=a(44),r=a.n(s),i=a(24),o=a(10),l=a(12),u=a(9),d=a(15),j=a.n(d),m=a(1);var b=function(e){var t=e.logState,a=e.displayName,c=e.photoURL,n=e.signIn,s=e.signOut;if(t){var r=a.split(" ")[0];return Object(m.jsxs)("div",{className:j.a.user,children:[Object(m.jsx)("div",{className:j.a.displayName,children:r}),Object(m.jsx)("button",{onClick:s,className:j.a.signOut,children:Object(m.jsx)("img",{src:c,alt:"profile",className:j.a.userPhoto})})]})}return Object(m.jsx)("div",{children:Object(m.jsx)("button",{className:j.a.signIn,onClick:n,children:"Sign In"})})};var h=function(e){return Object(m.jsxs)("header",{className:j.a.header,children:[Object(m.jsx)("h1",{className:j.a.title,children:"myShop"}),Object(m.jsxs)("nav",{className:j.a.navigation,children:[Object(m.jsx)(l.b,{to:"/",className:j.a.navButton,children:"Home"}),Object(m.jsx)(l.b,{to:"/shop",className:j.a.navButton,children:"Shop"}),Object(m.jsx)(l.b,{to:"/onsale",className:j.a.navButton,children:"On Sale!"})]}),Object(m.jsx)(b,{displayName:e.displayName,photoURL:e.photoURL,signIn:e.signIn,signOut:e.signOut,logState:e.logState}),Object(m.jsxs)(l.b,{to:"/cart",className:j.a.checkoutSection,children:[Object(m.jsx)("div",{className:j.a.checkoutButton,children:Object(m.jsx)("i",{className:"fas fa-shopping-cart"})}),Object(m.jsx)("div",{className:j.a.itemsCounter,children:e.cartCounter})]})]})},p=a(37),O=a.n(p);var _=function(){return Object(m.jsxs)("div",{className:O.a.Home,children:[Object(m.jsx)("h1",{className:O.a.h1,children:"Welcome to myShop!"}),Object(m.jsxs)("p",{className:O.a.p,children:["Click ",Object(m.jsx)(l.b,{to:"/shop",children:"here"})," to start. Or check our products ",Object(m.jsx)(l.b,{to:"/onsale",children:"On sale"}),"!"]})]})},f=a(42),x=a(29),v=a(43),g=a.n(v);var N=function(e){return Object(m.jsx)("nav",{className:g.a.categoriesNav,children:e.categories.map((function(t){return Object(m.jsxs)("label",{className:g.a.catButton,children:[t.label,Object(m.jsx)("input",{type:"checkbox",name:t.name,onChange:e.handleChange,checked:e.checkedItems[t.name]})]},t.key)}))})},y=a(19),I=a.n(y),C=a(23),k=a(8),S=a.n(k);var B=function(e){var t=e.checkedItems;return Object.values(t).every((function(e){return!1===e}))?Object(m.jsxs)("div",{className:S.a.ChooseCategory,children:[Object(m.jsx)("h1",{className:S.a.h1,children:"Choose a category to start shopping."}),Object(m.jsxs)("p",{className:S.a.p,children:["Or check our products ",Object(m.jsx)(l.b,{to:"/onsale",children:"On sale"}),"!"]})]}):null};var D=function(e){var t=Object(c.useState)([]),a=Object(o.a)(t,2),n=a[0],s=a[1];return Object(c.useEffect)((function(){var e=new AbortController,t=e.signal;return Object(C.a)(I.a.mark((function e(){var a,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://fakestoreapi.com/products",{signal:t});case 2:return a=e.sent,e.next=5,a.json();case 5:c=e.sent,s(c);case 7:case"end":return e.stop()}}),e)})))(),function(){e.abort()}}),[]),Object(m.jsxs)("div",{className:S.a.ItemsDisplay,children:[n.map((function(t){return e.checkedItems[t.category]?Object(m.jsxs)("div",{className:S.a.Item,children:[Object(m.jsx)("img",{alt:t.title,src:t.image,className:S.a.ItemPhoto}),Object(m.jsxs)("h2",{className:S.a.price,children:["$",t.price.toFixed(2)]}),Object(m.jsx)("h3",{className:S.a.ItemTitle,children:t.title}),Object(m.jsxs)("div",{className:S.a.itemButtons,children:[Object(m.jsx)(l.b,{to:{pathname:"/shop/".concat(t.id),state:{title:t.title,price:t.price,description:t.description,image:t.image,id:t.id}},className:S.a.detailButton,children:"Details"}),Object(m.jsx)("button",{className:S.a.buyButton,onClick:e.addProd,id:t.id,children:"Add to Cart"})]})]},t.id):null})),Object(m.jsx)(B,{checkedItems:e.checkedItems})]})},P=a(46),w=a.n(P);var A=function(e){var t=e.addProd,a=[{name:"electronics",key:"electronics",label:"Electronics"},{name:"jewelery",key:"jewlery",label:"Jewlery"},{name:"men's clothing",key:"men's clothing",label:"Masculine Clothing"},{name:"women's clothing",key:"women's clothing",label:"Feminin Clothing"}],n=Object(c.useState)((function(){var e=a.map((function(e){return Object(x.a)({},e.name,!0)}));return Object.assign.apply(Object,[{}].concat(Object(i.a)(e)))})),s=Object(o.a)(n,2),r=s[0],l=s[1];return Object(m.jsxs)("div",{className:w.a.shop,children:[Object(m.jsx)(N,{handleChange:function(e){l(Object(f.a)(Object(f.a)({},r),{},Object(x.a)({},e.target.name,e.target.checked)))},checkedItems:r,categories:a}),Object(m.jsx)(D,{checkedItems:r,addProd:t})]})},T=a(70),H=a(68),E=a(67),M=a(69);var R=function(e){var t=e.addProd,a=Object(c.useState)([]),n=Object(o.a)(a,2),s=n[0],r=n[1],i=Object(c.useState)(),u=Object(o.a)(i,2),d=u[0],j=u[1];Object(c.useEffect)((function(){return setInterval((function(){j((function(){var e=new Date,t=Object(T.a)(e,1).setHours(0,0,0,0),a=Object(H.a)({start:e,end:t});return Object(E.a)(a,{format:["days","hours","minutes","seconds"]})}))}))}),[]);var b=new Date,h=Object(T.a)(b,1).setHours(0,0,0,0),p=Object(M.a)(h,"dd/MM");return Object(c.useEffect)((function(){var e=new AbortController,t=e.signal;return function(){var e=Object(C.a)(I.a.mark((function e(){var a,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://fakestoreapi.com/products",{signal:t});case 2:return a=e.sent,e.next=5,a.json();case 5:c=e.sent,r(c);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()(),function(){e.abort()}}),[]),Object(m.jsxs)("div",{className:S.a.OnSale,children:[Object(m.jsxs)("div",{className:S.a.dateOnSale,children:["Products on sale until ",Object(m.jsx)("br",{}),p,"\ud83d\udd25",Object(m.jsx)("br",{}),Object(m.jsxs)("div",{className:S.a.timeCounter,children:[d," to go!"]})]}),Object(m.jsx)("div",{className:S.a.ItemsDisplay,children:s.map((function(e){return e.price<50?Object(m.jsxs)("div",{className:S.a.Item,children:[Object(m.jsx)("img",{alt:e.title,src:e.image,className:S.a.ItemPhoto}),Object(m.jsxs)("h2",{className:S.a.price,children:["$",e.price.toFixed(2)]}),Object(m.jsx)("h3",{className:S.a.ItemTitle,children:e.title}),Object(m.jsxs)("div",{className:S.a.itemButtons,children:[Object(m.jsx)(l.b,{to:{pathname:"/shop/".concat(e.id),state:{title:e.title,price:e.price,description:e.description,image:e.image,id:e.id}},className:S.a.detailButton,children:"Details"}),Object(m.jsx)("button",{className:S.a.buyButton,onClick:t,id:e.id,children:"Add to cart"})]})]},e.id):null}))})]})},U=a(21),K=a.n(U);var L=function(e){var t=e.addProd,a=Object(c.useState)({}),n=Object(o.a)(a,2),s=n[0],r=n[1],i=Object(u.f)().id;return Object(c.useEffect)((function(){var e=new AbortController,t=e.signal;return Object(C.a)(I.a.mark((function e(){var a,c;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://fakestoreapi.com/products/".concat(i),{signal:t});case 2:return a=e.sent,e.next=5,a.json();case 5:c=e.sent,r(c);case 7:case"end":return e.stop()}}),e)})))(),function(){e.abort()}}),[i]),Object(m.jsxs)("div",{className:K.a.details,children:[Object(m.jsx)("img",{src:s.image,alt:s.title,className:K.a.prodImg}),Object(m.jsx)("div",{children:Object(m.jsx)(l.b,{to:"/shop",className:K.a.backToShop,children:"Back to Shop"})}),Object(m.jsxs)("div",{className:K.a.prodInfo,children:[Object(m.jsxs)("div",{children:[Object(m.jsx)("h1",{className:K.a.prodTitle,children:s.title}),Object(m.jsx)("button",{className:K.a.buyButton,onClick:t,id:s.id,children:"Add to Cart"})]}),Object(m.jsxs)("h2",{className:K.a.prodPrice,children:["$",s.price]}),Object(m.jsx)("p",{className:K.a.prodDescr,children:s.description})]})]})},F=a(22),J=a.n(F);var G=function(e){var t=e.cart,a=e.removeProd,n=Object(c.useState)([]),s=Object(o.a)(n,2),r=s[0],l=s[1],u=Object(c.useState)(0),d=Object(o.a)(u,2),j=d[0],b=d[1];return Object(c.useEffect)((function(){if(l([]),t.length>0)t.map(function(){var e=Object(C.a)(I.a.mark((function e(t){var a,c,n,s;return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new AbortController,c=a.signal,e.next=4,fetch("https://fakestoreapi.com/products/".concat(t.id),{signal:c});case 4:return n=e.sent,e.next=7,n.json();case 7:return(s=e.sent).amount=t.amount,l((function(e){return[].concat(Object(i.a)(e),[s])})),e.abrupt("return",(function(){a.abort()}));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());else if(0===t.length)return null}),[t]),Object(c.useEffect)((function(){r.length>0?b((function(){return r.reduce((function(e,t){return e+t.price*t.amount}),0).toFixed(2)})):b(0)}),[r]),Object(m.jsxs)("div",{className:J.a.cartDisplay,children:[r.map((function(e){return Object(m.jsxs)("div",{className:J.a.cartItem,children:[Object(m.jsx)("h1",{className:J.a.cartTitle,children:e.title}),Object(m.jsxs)("h2",{className:J.a.cartPrice,children:["$",e.price.toFixed(2)]}),Object(m.jsxs)("div",{className:J.a.cartAmount,children:["X ",e.amount]}),Object(m.jsx)("button",{className:J.a.deleteItem,onClick:a,id:e.id,"data-amount":e.amount,children:Object(m.jsx)("i",{className:"far fa-trash-alt"})})]},e.id)})),Object(m.jsxs)("div",{className:J.a.totalPrice,children:["Total: $",j]}),Object(m.jsx)("button",{className:J.a.payButton,children:"Checkout"})]})},W=a(32);a(61),a(65);W.a.initializeApp({apiKey:"AIzaSyA3JD4hGy5oE0gP7dC94cMfSL_WBjqlCrs",authDomain:"myshop-fl-martin.firebaseapp.com",projectId:"myshop-fl-martin",storageBucket:"myshop-fl-martin.appspot.com",messagingSenderId:"765268810851",appId:"1:765268810851:web:7dac2a34f89eeee286ac56"});var $=W.a.auth(),z=W.a.firestore(),Q=new W.a.auth.GoogleAuthProvider;Q.setCustomParameters({prompt:"select_account"});var q=a(47),X=a.n(q);var Z=function(){var e=Object(c.useState)(0),t=Object(o.a)(e,2),a=t[0],n=t[1],s=Object(c.useState)([]),r=Object(o.a)(s,2),d=r[0],j=r[1],b=Object(c.useState)(null),p=Object(o.a)(b,2),O=p[0],f=p[1],x=Object(c.useState)(null),v=Object(o.a)(x,2),g=v[0],N=v[1],y=Object(c.useState)(),I=Object(o.a)(y,2),C=(I[0],I[1]),k=Object(c.useState)(),S=Object(o.a)(k,2),B=S[0],D=S[1],P=Object(c.useState)(!1),w=Object(o.a)(P,2),T=w[0],H=w[1],E=function(e){e?(f(e.displayName),N(e.photoURL),C(e.uid),D(e.email),H(!0)):H(!1)};$.onAuthStateChanged(E),Object(c.useEffect)((function(){T&&z.collection("carts").doc(B).set({cart:d})}),[d,B,T]);var M=function(e){n((function(){return a+1})),j((function(){if(d.every((function(t){return t.id!==e.target.id})))return[].concat(Object(i.a)(d),[{id:e.target.id,amount:1}]);var t=d.findIndex((function(t){return t.id===e.target.id}));return[].concat(Object(i.a)(d),[d[t].amount=d[t].amount+.5])}))};return Object(m.jsx)(l.a,{children:Object(m.jsxs)("div",{className:X.a.App,children:[Object(m.jsx)(h,{cartCounter:a,signIn:function(){$.signInWithPopup(Q)},signOut:function(){$.signOut()},displayName:O,photoURL:g,logState:T}),Object(m.jsxs)(u.c,{children:[Object(m.jsx)(u.a,{exact:!0,path:"/",component:_}),Object(m.jsx)(u.a,{exact:!0,path:"/shop",children:Object(m.jsx)(A,{addProd:M})}),Object(m.jsx)(u.a,{path:"/onsale",children:Object(m.jsx)(R,{addProd:M})}),Object(m.jsx)(u.a,{path:"/shop/:id",children:Object(m.jsx)(L,{addProd:M})}),Object(m.jsx)(u.a,{path:"/cart",children:Object(m.jsx)(G,{cart:d,removeProd:function(e){n((function(){return a-1*e.target.dataset.amount})),j((function(){return d.filter((function(t){return t.id!==e.target.id}))}))}})})]})]})})};r.a.render(Object(m.jsx)(n.a.StrictMode,{children:Object(m.jsx)(Z,{})}),document.getElementById("root"))},8:function(e,t,a){e.exports={ItemsDisplay:"ItemsDisplay_ItemsDisplay__1i6uu",Item:"ItemsDisplay_Item__3z-Sd",ItemPhoto:"ItemsDisplay_ItemPhoto__1w0Ci",ItemTitle:"ItemsDisplay_ItemTitle__3gxQl",price:"ItemsDisplay_price__1-bZ1",itemButtons:"ItemsDisplay_itemButtons__3KaP5",detailButton:"ItemsDisplay_detailButton__301TP",buyButton:"ItemsDisplay_buyButton__eS7Mt",ChooseCategory:"ItemsDisplay_ChooseCategory__1ni55",h1:"ItemsDisplay_h1__3IX9O",p:"ItemsDisplay_p__2KC6R",OnSale:"ItemsDisplay_OnSale__1Gico",dateOnSale:"ItemsDisplay_dateOnSale__2gNtu",timeCounter:"ItemsDisplay_timeCounter__36SJi"}}},[[64,1,2]]]);
//# sourceMappingURL=main.85201fb8.chunk.js.map